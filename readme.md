# 復古遊戲機開發
各版本演進![pin](/media/00_versions.png)
課程出發點為教導學生簡易 IO ，利用按鈕輸入以及螢幕控制，搭配點陣圖以試算表讀取座標繪圖運用。利用 OLED 點亮後，不進行刷新。記錄軌跡後存成 list 格式，碰觸到自己軌跡則遊戲結束，類似貪食蛇遊戲規則，並計算軌跡點之數量，學習檔案存取。迷宮繪製，將迷宮併入軌跡，以條件式判斷點是否位於 list 中。課程可為專題製作，改為兩個玩家同時進行，各自操控所屬進行對戰。為符合7~9年級學習內容，本課程不涉及物件導向。
## Learning Map
![map]((/media/MazeRunnerLearningMap.png))
## 硬體組裝
1. 材料
	+ raspberry pico 
	+ OLED 0.96":I2C( GND - VCC - SCL - SDA)
	+ 按鈕 * 7
	+ 有源蜂鳴器
	+ M2 , M3 螺絲 = 8 , 4
1. 配置
	1. 解銲OLED、根據接線圖銲接 OLED 與 pico
		+ 接線圖 ![pin](/media/01_oled.png)
	1. 放按鈕、蜂鳴器於上層壓克力板、銲接配線、貼膠帶
		+ 接線圖 ![pin](/media/02_button.png)
	1. 放 Reset 按鈕於下層、穿過壓克力與 pico 銲接、鎖 M2 螺絲 4 個
	1. 鎖 OLED 與上層壓克力的 M2 螺絲 4 個
	1. 鎖上下層壓克力間 M3 螺絲 4 個
		+ 注意按鈕方向配置 ![pin](/media/03_arr.jpeg)
		+ 上壓克力板背面實際圖 ![pin](/media/03_arrBack.jpeg)
		+ 按鈕配線前 ![pin](/media/04_oledOnBoard.jpeg)
		+ 完成圖 ![pin](/media/05_finish.jpeg)

## 流程
0. pinTest 硬體測試
	+ OLED 管理套件 - 安裝 ssd1306(micropython-ssd1306)
	+ 按鈕
	+ 蜂鳴器
1. button
	1. 上拉電阻：press = 0 , unpress = 1
	1. if 
	1. for
	1. import time
	1. while
1. OLED
	1. 畫一個像素點
	1. 做個星空：隨機放 100 像素點
	1. 星空跑過去，呃...留下殘像
	1. 消除尾巴，用 fill_rect 補白
	1. 輸入正確數值，建立正確過場動畫
1. 做一個會移動的點
	1. 按左按鈕往左移動
	1. 按右按鈕往右移動
	1. 上下左右都要作用
1. 兩按鈕挑戰：button_thread，雙執行緒
	1. 利用按鈕決定方向
		+ 先設定方向 = 0 (0,1,2,3 = 右,下,左,上)
		+ 如果按鈕 == 0 , 則 方向值加減 1
			+ 右按鈕 ,  方向 + 1
			+ 左按鈕 ,  方向 - 1
	2. 兩個按鈕時主程式
		+ 根據 %4 的結果判斷方向，如果餘數 == 0 ,1 , 2 , 3 ，則 螢幕呈現各方向
		+ 加上一個兩個按鈕同時按就停止的條件式
1. 四按鈕並保留軌跡
	1. OLED 不刷新，螢幕點不消失
	1. 跑到邊緣後要能跳到螢幕另一側
		+ x > 127 , x = 0
		+ x < 0 , x = 127
		+ y 要怎麼改呢？
1. dict , set
	1. 格式
	1. 把軌跡存成 set
	1. 如果在軌跡內，則....
1. 檔案
	+ 檔案讀取
	+ 單一迷宮檔案製作
		+ [迷宮圖檔範例](https://gg.gg/picocamp)
		+ 把每一個座標抓出後繪點陣圖
1. 迷宮跑者
	1. 完成單一迷宮
		+ 第一列資料包括預設方向、起始點座標、終點座標（好幾個）....
		+ 用 readlines 讀取剩餘資料，str 轉為 int , 存為 list 為 path 軌跡資料，用以產生碰撞時、跟自己的軌跡合併 
	1. 計算分數
		+ 當座標所在 in path:
			+ 蜂鳴器叫
			+ 算分數，記錄最快記錄
			+ 遊戲結束
		+ 當抵達終點：
			+ 好棒棒畫面
	1. 不只一個迷宮時，使用 for 迴圈直接按順序下去
		+ 設定迷宮初始檔名值
		+ 沒抵達終點時，使用 contiune，進行下一次迭代繼續重複
		+ (若抵達才開始進行)，這裡不縮行，進行蜂鳴、算分數、跑過關動畫、進入下一關 maze
1. 雷射問題
	1. 要滿足打破軌跡，必須要做三件事
	1. list 格式
	1. 移除 list 內資料
	1. 雷射範例
1. 強化雷射
